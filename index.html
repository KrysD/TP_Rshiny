<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>TP R-Shiny</title>

<script src="libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/navigation-1.1/codefolding.js"></script>
<link href="libs/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="libs/highlightjs-1.1/highlight.js"></script>
<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="libs/htmlwidgets-0.8/htmlwidgets.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/dygraphs-binding-1.1.1.3/dygraphs.js"></script>
<link href="libs/leaflet-0.7.7/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-0.7.7/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<link href="libs/leaflet-label-0.2.2/leaflet.label.css" rel="stylesheet" />
<script src="libs/leaflet-label-0.2.2/leaflet.label.js"></script>
<script src="libs/Proj4Leaflet-0.7.2/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-0.7.2/proj4leaflet.js"></script>
<script src="libs/leaflet-binding-1.1.0/leaflet.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="www\style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">TP R-Shiny</h1>

</div>


<div id="installer-les-packages" class="section level2">
<h2>Installer les packages</h2>
<p>Afin de faciliter la poursuite du TD lancer le code ci-dessous afin de charger ou installer les packages.</p>
<pre class="r"><code># ----- Load/Install Packages
packages&lt;-c(&quot;leaflet&quot;,&quot;rgdal&quot;,&quot;dygraphs&quot;,&quot;xts&quot;,&quot;highcharter&quot;,&quot;googleVis&quot;)
new.packages &lt;- packages[!(packages %in% installed.packages()[,&quot;Package&quot;])]
if(length(new.packages)) install.packages(new.packages)
lapply(packages, require, character.only = TRUE)</code></pre>
</div>
<div id="creer-un-projet-r" class="section level2">
<h2>Créer un projet R</h2>
<p>Les projets RStudio facilitent la division de votre travail en plusieurs sessions, chacunes avec son propre répertoire et espace de travail, son historique et ses documents sources.</p>
<p>Pour créer un nouveau projet, utiliser la commande Créer un projet (disponible dans le menu Projets et dans la barre d’outils globale)</p>
<div class="figure">
<img src="www/newRproject.JPG" />

</div>
<div class="figure">
<img src="www/newDirectory.JPG" />

</div>
<div class="figure">
<img src="www/createProject.JPG" />

</div>
</div>
<div id="recuperer-les-donnees" class="section level2">
<h2>Récuperer les données</h2>
<p>Les données sont disponibles <a href="https://www.dropbox.com/sh/w0q9md9y41ib5lv/AAATEIkGDhNI692ZdOLGkWola?dl=0">ici</a></p>
<ul>
<li><code>BM_IRIS</code> shapefile iris Métropoloe Bordelaise</li>
<li><code>baseClientBM.csv</code> extrait base clientèle eau télérelevé</li>
<li><code>consoTLRV.Rdata</code> consommation journalière d’un pannel de client du 01/01/2014 au 01/01/2017</li>
<li><code>INSEE.csv</code> données INSEE (2014) fournissant des informations sur les habitants à l’echelle de l’iris</li>
</ul>
<div id="shapefile" class="section level3">
<h3>Shapefile</h3>
<p>Le <strong>shapefile</strong>, ou “fichier de formes” est un format de fichier pour les systèmes d’informations géographiques (SIG). Il contient toute l’information liée à la géométrie des objets décrits, qui peuvent être :</p>
<ul>
<li>des points</li>
<li>des lignes</li>
<li>des polygones</li>
</ul>
<p>Son extension est classiquement SHP, et il est toujours accompagné de deux autres fichiers de même nom, et d’extensions :</p>
<ul>
<li>un fichier DBF, qui contient les données attributaires relatives aux objets contenus dans le shapefile</li>
<li>un fichier SHX, qui stocke l’index de la géométrie</li>
</ul>
<p>Placer le dossier <code>BM_IRIS</code> dans le dossier <code>data/raw</code> présent à la racine du Rprojet <code>TD_shiny</code>. Ce dossier est un shapefile, il dessine des contours de zone du territoire bordelais à l’echelle de l’iris.</p>
<p>Afin d’utiliser ce fichier sur des fonds de cartes nous allons le charger et le transformer en objet <code>SpatialPolygonsDataFrame</code> utilisable par <code>R</code>.</p>
<pre class="r"><code># ----- Convert shape coordinate to Web Mercator
# ----- charge les fichiers shape en un objet SpatialPolygonsDataFrame
dat_IRIS&lt;-readOGR(dsn=&quot;data/rawData/BM_IRIS&quot;, layer=&quot;BM_IRIS&quot;,verbose = FALSE)
# ----- Définit la méthode de conversion des coordonnées GPS : Lambert93 =&gt; Web Mercator (WGS84)
projIris &lt;- sp::CRS(&#39;+proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0&#39;)
# ----- Transforme les coordonnées de tous les objets présent dans le fichier shape
contourIris &lt;- sp::spTransform(dat_IRIS,projIris)
rm(list = c(&quot;dat_IRIS&quot;,&quot;projIris&quot;))
# ----- Sauvegarde le fichier shape traité
save(contourIris,file = &quot;data/processedData/contourIris.Rdata&quot;)</code></pre>
<div class="figure">
<img src="www/irisBM.png" />

</div>
<p>L’objet <code>contourIris</code> est une liste composée de :</p>
<ul>
<li><code>@data</code> : un data frame avec des informations sur chacun des polygones (<em>voir tableau ci-après</em>)</li>
<li><code>@polygons</code> : une liste de polygones représentant les formes des iris et leurs coordonnées</li>
</ul>
<p>La première ligne de <code>contourIris@data</code> correspond au premier element de la liste <code>contourIris@polygons</code>.</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["DEPCOM"],"name":[1],"type":["fctr"],"align":["left"]},{"label":["NOM_COM"],"name":[2],"type":["fctr"],"align":["left"]},{"label":["IRIS"],"name":[3],"type":["fctr"],"align":["left"]},{"label":["DCOMIRIS"],"name":[4],"type":["fctr"],"align":["left"]},{"label":["NOM_IRIS"],"name":[5],"type":["fctr"],"align":["left"]},{"label":["TYP_IRIS"],"name":[6],"type":["fctr"],"align":["left"]},{"label":["ORIGINE"],"name":[7],"type":["fctr"],"align":["left"]},{"label":["DEPCOM_2"],"name":[8],"type":["fctr"],"align":["left"]},{"label":["NOM_COM_2"],"name":[9],"type":["fctr"],"align":["left"]},{"label":["IRIS_2"],"name":[10],"type":["fctr"],"align":["left"]},{"label":["DCOMIRIS_2"],"name":[11],"type":["fctr"],"align":["left"]},{"label":["NOM_IRIS_2"],"name":[12],"type":["fctr"],"align":["left"]},{"label":["TYP_IRIS_2"],"name":[13],"type":["fctr"],"align":["left"]},{"label":["ORIGINE_2"],"name":[14],"type":["fctr"],"align":["left"]}],"data":[{"1":"33065","2":"BOULIAC","3":"0000","4":"330650000","5":"Bouliac","6":"Z","7":"NA","8":"33065","9":"BOULIAC","10":"0000","11":"330650000","12":"Bouliac","13":"Z","14":"NA"},{"1":"33281","2":"MERIGNAC","3":"1401","4":"332811401","5":"Beutre","6":"H","7":"NA","8":"33281","9":"MERIGNAC","10":"1401","11":"332811401","12":"Beutre","13":"H","14":"NA"},{"1":"33281","2":"MERIGNAC","3":"1503","4":"332811503","5":"Beaudesert","6":"A","7":"NA","8":"33281","9":"MERIGNAC","10":"1401","11":"332811401","12":"Beutre","13":"H","14":"NA"},{"1":"33281","2":"MERIGNAC","3":"1504","4":"332811504","5":"Z.i du Phare","6":"A","7":"NA","8":"33281","9":"MERIGNAC","10":"1401","11":"332811401","12":"Beutre","13":"H","14":"NA"},{"1":"33281","2":"MERIGNAC","3":"1501","4":"332811501","5":"Marchegay","6":"A","7":"NA","8":"33281","9":"MERIGNAC","10":"1401","11":"332811401","12":"Beutre","13":"H","14":"NA"},{"1":"33281","2":"MERIGNAC","3":"1502","4":"332811502","5":"Zone Aeroportuaire","6":"A","7":"NA","8":"33281","9":"MERIGNAC","10":"1401","11":"332811401","12":"Beutre","13":"H","14":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="series-chronologiques---dygraphs" class="section level2">
<h2>Séries chronologiques - Dygraphs</h2>
<p>Le package Dygraphs fourinit une interface avec la bibliothèque de graphe JavaScript <a href="http://dygraphs.com/">Dygraphs</a>. Elle fournit de riches outils pour la représentation des données de séries chronologiques en R, notamment:</p>
<ul>
<li>Trace automatiquement les objets de série temporelle xts (ou tout objet convertible en xts),</li>
<li>Fonctionnalités interactives, y compris le zoom / panoramique et la mise en surbrillance de séries / points,</li>
<li>Superpositions de graphiques, y compris les régions ombrées, les lignes d’événements et les annotations ponctuelles,</li>
<li>Utilisable via la console R comme les graphiques R conventionnels,</li>
<li>Intégration immédiate dans les documents R Markdown et les applications Web Shiny.</li>
</ul>
<div id="tracer-des-series-temporelles" class="section level3 tabset tabset-fade tabset-pills">
<h3>Tracer des séries temporelles</h3>
<div id="avec-plot" class="section level4">
<h4>Avec plot()</h4>
<pre class="r"><code>library(dygraphs)
lungDeaths &lt;- cbind(mdeaths,fdeaths)
plot(lungDeaths)</code></pre>
<p><img src="index_files/figure-html/firstSeriePlot-1.png" width="768" style="display: block; margin: auto;" /></p>
</div>
<div id="avec-dygraph" class="section level4">
<h4>Avec dygraph()</h4>
<pre class="r"><code>library(dygraphs)
lungDeaths &lt;- cbind(mdeaths, fdeaths)
dygraph(lungDeaths)</code></pre>
<div id="htmlwidget-4ba5313706a007bf258a" style="width:768px;height:384px;" class="dygraphs html-widget"></div>
<script type="application/json" data-for="htmlwidget-4ba5313706a007bf258a">{"x":{"attrs":{"labels":["month","mdeaths","fdeaths"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}}},"scale":"monthly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["1974-01-01T00:00:00.000Z","1974-02-01T00:00:00.000Z","1974-03-01T00:00:00.000Z","1974-04-01T00:00:00.000Z","1974-05-01T00:00:00.000Z","1974-06-01T00:00:00.000Z","1974-07-01T00:00:00.000Z","1974-08-01T00:00:00.000Z","1974-09-01T00:00:00.000Z","1974-10-01T00:00:00.000Z","1974-11-01T00:00:00.000Z","1974-12-01T00:00:00.000Z","1975-01-01T00:00:00.000Z","1975-02-01T00:00:00.000Z","1975-03-01T00:00:00.000Z","1975-04-01T00:00:00.000Z","1975-05-01T00:00:00.000Z","1975-06-01T00:00:00.000Z","1975-07-01T00:00:00.000Z","1975-08-01T00:00:00.000Z","1975-09-01T00:00:00.000Z","1975-10-01T00:00:00.000Z","1975-11-01T00:00:00.000Z","1975-12-01T00:00:00.000Z","1976-01-01T00:00:00.000Z","1976-02-01T00:00:00.000Z","1976-03-01T00:00:00.000Z","1976-04-01T00:00:00.000Z","1976-05-01T00:00:00.000Z","1976-06-01T00:00:00.000Z","1976-07-01T00:00:00.000Z","1976-08-01T00:00:00.000Z","1976-09-01T00:00:00.000Z","1976-10-01T00:00:00.000Z","1976-11-01T00:00:00.000Z","1976-12-01T00:00:00.000Z","1977-01-01T00:00:00.000Z","1977-02-01T00:00:00.000Z","1977-03-01T00:00:00.000Z","1977-04-01T00:00:00.000Z","1977-05-01T00:00:00.000Z","1977-06-01T00:00:00.000Z","1977-07-01T00:00:00.000Z","1977-08-01T00:00:00.000Z","1977-09-01T00:00:00.000Z","1977-10-01T00:00:00.000Z","1977-11-01T00:00:00.000Z","1977-12-01T00:00:00.000Z","1978-01-01T00:00:00.000Z","1978-02-01T00:00:00.000Z","1978-03-01T00:00:00.000Z","1978-04-01T00:00:00.000Z","1978-05-01T00:00:00.000Z","1978-06-01T00:00:00.000Z","1978-07-01T00:00:00.000Z","1978-08-01T00:00:00.000Z","1978-09-01T00:00:00.000Z","1978-10-01T00:00:00.000Z","1978-11-01T00:00:00.000Z","1978-12-01T00:00:00.000Z","1979-01-01T00:00:00.000Z","1979-02-01T00:00:00.000Z","1979-03-01T00:00:00.000Z","1979-04-01T00:00:00.000Z","1979-05-01T00:00:00.000Z","1979-06-01T00:00:00.000Z","1979-07-01T00:00:00.000Z","1979-08-01T00:00:00.000Z","1979-09-01T00:00:00.000Z","1979-10-01T00:00:00.000Z","1979-11-01T00:00:00.000Z","1979-12-01T00:00:00.000Z"],[2134,1863,1877,1877,1492,1249,1280,1131,1209,1492,1621,1846,2103,2137,2153,1833,1403,1288,1186,1133,1053,1347,1545,2066,2020,2750,2283,1479,1189,1160,1113,970,999,1208,1467,2059,2240,1634,1722,1801,1246,1162,1087,1013,959,1179,1229,1655,2019,2284,1942,1423,1340,1187,1098,1004,970,1140,1110,1812,2263,1820,1846,1531,1215,1075,1056,975,940,1081,1294,1341],[901,689,827,677,522,406,441,393,387,582,578,666,830,752,785,664,467,438,421,412,343,440,531,771,767,1141,896,532,447,420,376,330,357,445,546,764,862,660,663,643,502,392,411,348,387,385,411,638,796,853,737,546,530,446,431,362,387,430,425,679,821,785,727,612,478,429,405,379,393,411,487,574]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="donnees-temporelle-format-xts" class="section level3">
<h3>Données temporelle format <code>xts</code></h3>
<p><code>xts</code> ou Extensible Time Series est un de ces package <code>R</code> qui fournit une classe de séries chronologiques extensible, permettant une gestion uniforme de nombreuses classes de séries temporelles.</p>
</div>
<div id="creer-un-objet-xts" class="section level3">
<h3>Créer un objet <code>xts</code></h3>
<pre class="r"><code>library(xts)
xts1 &lt;- xts(x=1:10, order.by=Sys.Date()-1:10)
data &lt;- rnorm(5)
dates &lt;- seq(as.Date(&quot;2017-05-01&quot;), length=5, by=&quot;days&quot;)
xts2 &lt;- xts(x=data, order.by=dates)
xts3 &lt;- xts(x=rnorm(10), order.by=as.POSIXct(Sys.Date()+1:10), born=as.POSIXct(&quot;1899-05-08&quot;))
xts4 &lt;- xts(x=1:10, order.by=Sys.Date()+1:10)

# ----- Série temporelle multivariée
xts5 &lt;- cbind(xts1,xts4)

# ----- à partir d&#39;un objet ts
data(AirPassengers)
xts6 &lt;- as.xts(AirPassengers)</code></pre>
<p>Les objets <code>xts</code> ont deux composants principaux:</p>
<ul>
<li><code>coredata</code> : une matrice pour les objets <code>xts</code></li>
<li><code>index</code>: vecteur de n’importe quelle <code>Date</code>, classes <code>POSIXct</code>, <code>DateTime</code></li>
</ul>
<pre class="r"><code>head(coredata(xts6))</code></pre>
<pre><code>##      [,1]
## [1,]  112
## [2,]  118
## [3,]  132
## [4,]  129
## [5,]  121
## [6,]  135</code></pre>
<pre class="r"><code>head(index(xts6))</code></pre>
<pre><code>## [1] &quot;janv. 1949&quot; &quot;févr. 1949&quot; &quot;mars 1949&quot;  &quot;avr. 1949&quot;  &quot;mai 1949&quot;  
## [6] &quot;juin 1949&quot;</code></pre>
<pre class="r"><code>dygraph(xts6)</code></pre>
<div id="htmlwidget-5e318ca4f7b4d8d570c0" style="width:768px;height:192px;" class="dygraphs html-widget"></div>
<script type="application/json" data-for="htmlwidget-5e318ca4f7b4d8d570c0">{"x":{"attrs":{"labels":["month","V1"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}}},"scale":"monthly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["1949-01-01T00:00:00.000Z","1949-02-01T00:00:00.000Z","1949-03-01T00:00:00.000Z","1949-04-01T00:00:00.000Z","1949-05-01T00:00:00.000Z","1949-06-01T00:00:00.000Z","1949-07-01T00:00:00.000Z","1949-08-01T00:00:00.000Z","1949-09-01T00:00:00.000Z","1949-10-01T00:00:00.000Z","1949-11-01T00:00:00.000Z","1949-12-01T00:00:00.000Z","1950-01-01T00:00:00.000Z","1950-02-01T00:00:00.000Z","1950-03-01T00:00:00.000Z","1950-04-01T00:00:00.000Z","1950-05-01T00:00:00.000Z","1950-06-01T00:00:00.000Z","1950-07-01T00:00:00.000Z","1950-08-01T00:00:00.000Z","1950-09-01T00:00:00.000Z","1950-10-01T00:00:00.000Z","1950-11-01T00:00:00.000Z","1950-12-01T00:00:00.000Z","1951-01-01T00:00:00.000Z","1951-02-01T00:00:00.000Z","1951-03-01T00:00:00.000Z","1951-04-01T00:00:00.000Z","1951-05-01T00:00:00.000Z","1951-06-01T00:00:00.000Z","1951-07-01T00:00:00.000Z","1951-08-01T00:00:00.000Z","1951-09-01T00:00:00.000Z","1951-10-01T00:00:00.000Z","1951-11-01T00:00:00.000Z","1951-12-01T00:00:00.000Z","1952-01-01T00:00:00.000Z","1952-02-01T00:00:00.000Z","1952-03-01T00:00:00.000Z","1952-04-01T00:00:00.000Z","1952-05-01T00:00:00.000Z","1952-06-01T00:00:00.000Z","1952-07-01T00:00:00.000Z","1952-08-01T00:00:00.000Z","1952-09-01T00:00:00.000Z","1952-10-01T00:00:00.000Z","1952-11-01T00:00:00.000Z","1952-12-01T00:00:00.000Z","1953-01-01T00:00:00.000Z","1953-02-01T00:00:00.000Z","1953-03-01T00:00:00.000Z","1953-04-01T00:00:00.000Z","1953-05-01T00:00:00.000Z","1953-06-01T00:00:00.000Z","1953-07-01T00:00:00.000Z","1953-08-01T00:00:00.000Z","1953-09-01T00:00:00.000Z","1953-10-01T00:00:00.000Z","1953-11-01T00:00:00.000Z","1953-12-01T00:00:00.000Z","1954-01-01T00:00:00.000Z","1954-02-01T00:00:00.000Z","1954-03-01T00:00:00.000Z","1954-04-01T00:00:00.000Z","1954-05-01T00:00:00.000Z","1954-06-01T00:00:00.000Z","1954-07-01T00:00:00.000Z","1954-08-01T00:00:00.000Z","1954-09-01T00:00:00.000Z","1954-10-01T00:00:00.000Z","1954-11-01T00:00:00.000Z","1954-12-01T00:00:00.000Z","1955-01-01T00:00:00.000Z","1955-02-01T00:00:00.000Z","1955-03-01T00:00:00.000Z","1955-04-01T00:00:00.000Z","1955-05-01T00:00:00.000Z","1955-06-01T00:00:00.000Z","1955-07-01T00:00:00.000Z","1955-08-01T00:00:00.000Z","1955-09-01T00:00:00.000Z","1955-10-01T00:00:00.000Z","1955-11-01T00:00:00.000Z","1955-12-01T00:00:00.000Z","1956-01-01T00:00:00.000Z","1956-02-01T00:00:00.000Z","1956-03-01T00:00:00.000Z","1956-04-01T00:00:00.000Z","1956-05-01T00:00:00.000Z","1956-06-01T00:00:00.000Z","1956-07-01T00:00:00.000Z","1956-08-01T00:00:00.000Z","1956-09-01T00:00:00.000Z","1956-10-01T00:00:00.000Z","1956-11-01T00:00:00.000Z","1956-12-01T00:00:00.000Z","1957-01-01T00:00:00.000Z","1957-02-01T00:00:00.000Z","1957-03-01T00:00:00.000Z","1957-04-01T00:00:00.000Z","1957-05-01T00:00:00.000Z","1957-06-01T00:00:00.000Z","1957-07-01T00:00:00.000Z","1957-08-01T00:00:00.000Z","1957-09-01T00:00:00.000Z","1957-10-01T00:00:00.000Z","1957-11-01T00:00:00.000Z","1957-12-01T00:00:00.000Z","1958-01-01T00:00:00.000Z","1958-02-01T00:00:00.000Z","1958-03-01T00:00:00.000Z","1958-04-01T00:00:00.000Z","1958-05-01T00:00:00.000Z","1958-06-01T00:00:00.000Z","1958-07-01T00:00:00.000Z","1958-08-01T00:00:00.000Z","1958-09-01T00:00:00.000Z","1958-10-01T00:00:00.000Z","1958-11-01T00:00:00.000Z","1958-12-01T00:00:00.000Z","1959-01-01T00:00:00.000Z","1959-02-01T00:00:00.000Z","1959-03-01T00:00:00.000Z","1959-04-01T00:00:00.000Z","1959-05-01T00:00:00.000Z","1959-06-01T00:00:00.000Z","1959-07-01T00:00:00.000Z","1959-08-01T00:00:00.000Z","1959-09-01T00:00:00.000Z","1959-10-01T00:00:00.000Z","1959-11-01T00:00:00.000Z","1959-12-01T00:00:00.000Z","1960-01-01T00:00:00.000Z","1960-02-01T00:00:00.000Z","1960-03-01T00:00:00.000Z","1960-04-01T00:00:00.000Z","1960-05-01T00:00:00.000Z","1960-06-01T00:00:00.000Z","1960-07-01T00:00:00.000Z","1960-08-01T00:00:00.000Z","1960-09-01T00:00:00.000Z","1960-10-01T00:00:00.000Z","1960-11-01T00:00:00.000Z","1960-12-01T00:00:00.000Z"],[112,118,132,129,121,135,148,148,136,119,104,118,115,126,141,135,125,149,170,170,158,133,114,140,145,150,178,163,172,178,199,199,184,162,146,166,171,180,193,181,183,218,230,242,209,191,172,194,196,196,236,235,229,243,264,272,237,211,180,201,204,188,235,227,234,264,302,293,259,229,203,229,242,233,267,269,270,315,364,347,312,274,237,278,284,277,317,313,318,374,413,405,355,306,271,306,315,301,356,348,355,422,465,467,404,347,305,336,340,318,362,348,363,435,491,505,404,359,310,337,360,342,406,396,420,472,548,559,463,407,362,405,417,391,419,461,472,535,622,606,508,461,390,432]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="cartographie---leaflet" class="section level2">
<h2>Cartographie - Leaflet</h2>
<p><a href="http://leafletjs.com/">Leaflet</a> est l’une des bibliothèques JavaScript open-source les plus populaires pour les cartes interactives. Elle est utilisée par des sites Web allant du New York Times ou du Washington Post jusqu’à GitHub, ainsi que par des spécialistes des Systèmes d’Iformation Géographique comme OpenStreetMap, Mapbox et CartoDB.</p>
<pre class="r"><code>library(leaflet)
m &lt;- leaflet(width = &quot;100%&quot;) %&gt;%
  addTiles() %&gt;%  # ajoute un fond de carte par défaut (OpenStreetMap)
  addMarkers(lng=174.768, lat=-36.852, popup=&quot;The birthplace of R&quot;) # ajoute un marqueur
m  # Affiche la map</code></pre>
<div id="htmlwidget-5e3c614e87c31a42b0a6" style="width:100%;height:384px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-5e3c614e87c31a42b0a6">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"maxNativeZoom":null,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"continuousWorld":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":null,"unloadInvisibleTiles":null,"updateWhenIdle":null,"detectRetina":false,"reuseTiles":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap\u003c/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA\u003c/a>"}]},{"method":"addMarkers","args":[-36.852,174.768,null,null,null,{"clickable":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"The birthplace of R",null,null,null,null,null,null]}],"limits":{"lat":[-36.852,-36.852],"lng":[174.768,174.768]}},"evals":[],"jsHooks":[]}</script>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
